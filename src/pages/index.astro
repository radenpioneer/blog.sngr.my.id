---
import Layout from '~/layout/layout.astro'
import { getCollection } from 'astro:content'

const posts = await getCollection('blog')
---

<Layout>
  {
    posts.map(({ data: post, slug }) => (
      <div>
        <h2>
          <a href={`/post/${slug}`}>{post.title}</a>
        </h2>
      </div>
    ))
  }
</Layout>
